{"version":3,"file":"static/js/931.fe1ae31e.chunk.js","mappings":"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","sources":["api/api.ts","webpack://react-homework-template/./src/components/Cast/Cast.module.scss?0e19","components/Cast/Cast.tsx","webpack://react-homework-template/./src/components/Home/Home.module.scss?cc32","components/Home/Home.tsx","utils/imageErrorHandler.ts"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = 'aca3a80d7ad77ed9a43b3a4a106c9d1c';\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\naxios.defaults.baseURL = BASE_URL;\naxios.defaults.params = {\n  api_key: API_KEY,\n  language: 'en-US',\n};\n\nexport const getTrendingMovies = async () => {\n  try {\n    const { data } = await axios.get('/trending/movie/day');\n    return data.results;\n  } catch (error) {\n    console.log(error)\n  }\n}\n\nexport const getMoviesByQuery = async (query: string) => {\n  try {\n    const { data } = await axios.get(`/search/movie?query=${query}`);\n    return data.results;\n  } catch (error) {\n    console.log(error)\n  }\n}\n\nexport const getMovieById = async (id: number) => {\n  try {\n    const { data } = await axios.get(`/movie/${id}`);\n    return data;\n  } catch (error) {\n    console.log(error)\n  }\n}\n\nexport const getCastById = async (id: number) => {\n  try {\n    const { data } = await axios.get(`/movie/${id}/credits`);\n    return data.cast;\n  } catch (error) {\n    console.log(error)\n  }\n}\n\nexport const getReviewsById = async (id: number) => {\n  try {\n    const { data } = await axios.get(`/movie/${id}/reviews`);\n    return data.results;\n  } catch (error) {\n    console.log(error)\n  }\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"list\":\"Cast_list__gNQg+\",\"image\":\"Cast_image__h8CcB\",\"name\":\"Cast_name__SF9Yl\"};","import { useState, useEffect } from 'react';\nimport { useOutletContext } from 'react-router-dom';\nimport { getCastById } from '../../api/api';\nimport { Actor, OutletContext } from '../../types/types';\nimport { handleImageError } from '../../utils/imageErrorHandler';\nimport { IMAGE_BASE_URL } from '../Home/Home';\nimport { Spinner } from '../Spinner/Spinner';\nimport s from './Cast.module.scss';\n\nconst Cast = () => {\n  const { movieId } = useOutletContext<OutletContext>();\n\n  const [cast, setCast] = useState<Actor[]>([]);\n\n  useEffect(() => {\n    const fetchCast = async () => {\n      const data = await getCastById(Number(movieId));\n      setCast(data);\n    };\n    fetchCast();\n    // eslint-disable-next-line\n  }, []);\n\n  if (!cast.length) {\n    return <Spinner />;\n  }\n\n  return (\n    <div className=\"container\">\n      <ul className={s.list}>\n        {cast.map(el => (\n          <li className={s.item} key={el.id}>\n            <img\n              src={`${IMAGE_BASE_URL}/${el.profile_path}`}\n              alt=\"Actor\"\n              className={s.image}\n              onError={handleImageError}\n            />\n            <p className={s.name}>{el.name}</p>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default Cast;\n","// extracted by mini-css-extract-plugin\nexport default {\"header\":\"Home_header__LYx1J\",\"link\":\"Home_link__V6Qxt\",\"moviesList\":\"Home_moviesList__J6K-h\",\"movieImg\":\"Home_movieImg__2wHIM\",\"movieTitle\":\"Home_movieTitle__MIzFQ\"};","import { useEffect, useState } from 'react';\nimport { getTrendingMovies } from '../../api/api';\nimport { IMovie } from '../../types/types';\nimport { Link, useLocation } from 'react-router-dom';\nimport s from './Home.module.scss';\nimport { handleImageError } from '../../utils/imageErrorHandler';\n\nexport const IMAGE_BASE_URL = 'https://image.tmdb.org/t/p/w500';\n\nconst Home = () => {\n  const location = useLocation();\n  const [trendingMovies, setTrendingMovies] = useState<IMovie[]>([]);\n\n  useEffect(() => {\n    const fetchMovies = async () => {\n      const data = await getTrendingMovies();\n      setTrendingMovies(data);\n    };\n    fetchMovies();\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <div className=\"container\">\n      <h1 className={s.header}>Trending today</h1>\n      <ul className={s.moviesList}>\n        {trendingMovies.map(movie => (\n          <li key={movie.id}>\n            <Link\n              to={`/movies/${movie.id}`}\n              state={location}\n              className={s.link}\n            >\n              <img\n                src={`${IMAGE_BASE_URL}${movie.poster_path}`}\n                alt={movie.title}\n                className={s.movieImg}\n                onError={handleImageError}\n              />\n              <p className={s.movieTitle}>{movie.title}</p>\n            </Link>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default Home;\n","export const handleImageError = (e: React.BaseSyntheticEvent) => {\n  e.target.onerror = null;\n  e.target.src = 'https://t4.ftcdn.net/jpg/04/00/24/31/360_F_400243185_BOxON3h9avMUX10RsDkt3pJ8iQx72kS3.jpg';\n};\n"],"names":["axios","api_key","language","getTrendingMovies","data","results","console","log","getMoviesByQuery","query","getMovieById","id","getCastById","cast","getReviewsById","movieId","useOutletContext","useState","setCast","useEffect","fetchCast","Number","length","className","s","map","el","src","IMAGE_BASE_URL","profile_path","alt","onError","handleImageError","name","Spinner","location","useLocation","trendingMovies","setTrendingMovies","fetchMovies","movie","to","state","poster_path","title","e","target","onerror"],"sourceRoot":""}