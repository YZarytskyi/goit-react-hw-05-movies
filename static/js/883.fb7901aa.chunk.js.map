{"version":3,"file":"static/js/883.fb7901aa.chunk.js","mappings":"+SAKAA,EAAAA,EAAAA,SAAAA,QAFiB,+BAGjBA,EAAAA,EAAAA,SAAAA,OAAwB,CACtBC,QALc,mCAMdC,SAAU,SAGL,IAAMC,EAAiB,mCAAG,+GAENH,EAAAA,EAAAA,IAAU,uBAFJ,uBAErBI,EAFqB,EAErBA,KAFqB,kBAGtBA,EAAKC,SAHiB,gCAK7BC,QAAQC,IAAR,MAL6B,yDAAH,qDASjBC,EAAgB,mCAAG,WAAOC,GAAP,kGAELT,EAAAA,EAAAA,IAAA,8BAAiCS,IAF5B,uBAEpBL,EAFoB,EAEpBA,KAFoB,kBAGrBA,EAAKC,SAHgB,gCAK5BC,QAAQC,IAAR,MAL4B,yDAAH,sDAShBG,EAAY,mCAAG,WAAOC,GAAP,kGAEDX,EAAAA,EAAAA,IAAA,iBAAoBW,IAFnB,uBAEhBP,EAFgB,EAEhBA,KAFgB,kBAGjBA,GAHiB,gCAKxBE,QAAQC,IAAR,MALwB,yDAAH,sDASZK,EAAW,mCAAG,WAAOD,GAAP,kGAEAX,EAAAA,EAAAA,IAAA,iBAAoBW,EAApB,aAFA,uBAEfP,EAFe,EAEfA,KAFe,kBAGhBA,EAAKS,MAHW,gCAKvBP,QAAQC,IAAR,MALuB,yDAAH,sDASXO,EAAc,mCAAG,WAAOH,GAAP,kGAEHX,EAAAA,EAAAA,IAAA,iBAAoBW,EAApB,aAFG,uBAElBP,EAFkB,EAElBA,KAFkB,kBAGnBA,EAAKC,SAHc,gCAK1BC,QAAQC,IAAR,MAL0B,yDAAH,qD,8IC9C3B,EAAyB,wBAAzB,EAA2D,yBAA3D,EAA+F,0B,SC4C/F,EAtCgB,WACd,IAAQQ,GAAYC,EAAAA,EAAAA,MAAZD,QAER,GAA8BE,EAAAA,EAAAA,UAA0B,MAAxD,eAAOC,EAAP,KAAgBC,EAAhB,KAWA,OATAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAY,mCAAG,qGACAP,EAAAA,EAAAA,IAAeQ,OAAOP,IADtB,OACbX,EADa,OAEnBe,EAAWf,GAFQ,2CAAH,qDAIlBiB,GAED,GAAE,IAEEH,EAIAA,EAAQK,QAKX,gBAAKC,UAAU,YAAf,UACE,wBACGN,EAAQO,KAAI,SAAAC,GAAE,OACb,2BACE,eAAGF,UAAWG,EAAd,UACGD,EAAGE,OADN,KACc,0BAAOF,EAAGG,WAAWC,MAAM,EAAG,UAE5C,cAAGN,UAAWG,EAAd,SAA0BD,EAAGK,YAJtBL,EAAGf,GADC,SANZ,cAAGa,UAAS,UAAKG,EAAL,cAAZ,gCAJA,SAACK,EAAA,EAAD,GAqBV,C","sources":["api/api.ts","webpack://react-homework-template/./src/components/Reviews/Reviews.module.scss?0ade","components/Reviews/Reviews.tsx"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = 'aca3a80d7ad77ed9a43b3a4a106c9d1c';\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\naxios.defaults.baseURL = BASE_URL;\naxios.defaults.params = {\n  api_key: API_KEY,\n  language: 'en-US',\n};\n\nexport const getTrendingMovies = async () => {\n  try {\n    const { data } = await axios.get('/trending/movie/day');\n    return data.results;\n  } catch (error) {\n    console.log(error)\n  }\n}\n\nexport const getMoviesByQuery = async (query: string) => {\n  try {\n    const { data } = await axios.get(`/search/movie?query=${query}`);\n    return data.results;\n  } catch (error) {\n    console.log(error)\n  }\n}\n\nexport const getMovieById = async (id: number) => {\n  try {\n    const { data } = await axios.get(`/movie/${id}`);\n    return data;\n  } catch (error) {\n    console.log(error)\n  }\n}\n\nexport const getCastById = async (id: number) => {\n  try {\n    const { data } = await axios.get(`/movie/${id}/credits`);\n    return data.cast;\n  } catch (error) {\n    console.log(error)\n  }\n}\n\nexport const getReviewsById = async (id: number) => {\n  try {\n    const { data } = await axios.get(`/movie/${id}/reviews`);\n    return data.results;\n  } catch (error) {\n    console.log(error)\n  }\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"author\":\"Reviews_author__GC1-s\",\"content\":\"Reviews_content__mLlQv\",\"notFound\":\"Reviews_notFound__SpnP8\"};","import { useState, useEffect } from 'react';\nimport { useOutletContext } from 'react-router-dom';\nimport { getReviewsById } from '../../api/api';\nimport { OutletContext, Review } from '../../types/types';\nimport { Spinner } from '../Spinner/Spinner';\nimport s from './Reviews.module.scss';\n\nconst Reviews = () => {\n  const { movieId } = useOutletContext<OutletContext>();\n\n  const [reviews, setReviews] = useState<Review[] | null>(null);\n\n  useEffect(() => {\n    const fetchReviews = async () => {\n      const data = await getReviewsById(Number(movieId));\n      setReviews(data);\n    };\n    fetchReviews();\n    // eslint-disable-next-line\n  }, []);\n\n  if (!reviews) {\n    return <Spinner />;\n  }\n\n  if (!reviews.length) {\n    return <p className={`${s.notFound} container`}>Reviews not found</p>;\n  }\n\n  return (\n    <div className=\"container\">\n      <ul>\n        {reviews.map(el => (\n          <li key={el.id}>\n            <p className={s.author}>\n              {el.author} <span>{el.created_at.slice(0, 10)}</span>\n            </p>\n            <p className={s.content}>{el.content}</p>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default Reviews;\n"],"names":["axios","api_key","language","getTrendingMovies","data","results","console","log","getMoviesByQuery","query","getMovieById","id","getCastById","cast","getReviewsById","movieId","useOutletContext","useState","reviews","setReviews","useEffect","fetchReviews","Number","length","className","map","el","s","author","created_at","slice","content","Spinner"],"sourceRoot":""}